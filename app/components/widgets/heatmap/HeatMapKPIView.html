<div class="box full-height">
    <div class="box-header with-border row">
        <div class="col-md-4 col-xs-12">
            <i class="fa fa-thermometer-half box-title"></i>
            <h3 class="box-title">
                <select class="form-control" ng-model="siteSelected" ng-options="option.name disable when !option.siteInfo.heatmap for option in params.sites track by option.id"
                    ng-change="siteSelectedChanged()">
                </select>
            </h3>
        </div>
        <div class="col-md-4 col-xs-12 text-center">
            <div class="btn-group">
                <button type="button" class="btn-sm radio-button" ng-model="heatmapVisible" ng-disabled="!periodComparisonSelected" uib-btn-radio="0">
                {{params.period.startDate.format('MMM DD, YYYY')}} - {{params.period.endDate.format('MMM DD,YYYY')}}
                </button>
                <button ng-show="periodComparisonSelected" type="button" class="btn-sm radio-button" ng-model="heatmapVisible" ng-disabled="!periodComparisonSelected"
                    uib-btn-radio="1">
                {{params.comparedPeriod.startDate.format('MMM DD, YYYY')}} - {{params.comparedPeriod.endDate.format('MMM DD,YYYY')}}
                </button>
            </div>
        </div>
    </div>
    <div class="box-body box-heatmap" ngsf-fullscreen>
        <div id="heatmap-renderer" tabindex="-1"></div>
        <div class="heatmap-nav-controls">
            <div class="heatmap-nav-control" ngsf-toggle-fullscreen>
                <svg width="20" height="20" viewBox="0 0 128 128">
                    <path d="M 83.96875 17.5625 L 83.96875 17.59375 L 76.65625 24.875 L 97.09375 24.96875 L 76.09375 45.96875 L 81.9375 51.8125 L 102.78125 30.9375 L 102.875 51.15625 L 110.15625 43.875 L 110.1875 17.59375 L 83.96875 17.5625 z M 44.125 17.59375 L 17.90625 17.625 L 17.9375 43.90625 L 25.21875 51.1875 L 25.3125 30.96875 L 46.15625 51.8125 L 52 45.96875 L 31 25 L 51.4375 24.90625 L 44.125 17.59375 z M 46.0625 76.03125 L 25.1875 96.875 L 25.09375 76.65625 L 17.8125 83.9375 L 17.8125 110.21875 L 44 110.25 L 51.3125 102.9375 L 30.90625 102.84375 L 51.875 81.875 L 46.0625 76.03125 z M 82 76.15625 L 76.15625 82 L 97.15625 103 L 76.71875 103.0625 L 84.03125 110.375 L 110.25 110.34375 L 110.21875 84.0625 L 102.9375 76.8125 L 102.84375 97 L 82 76.15625 z"></path>
                </svg>
            </div>
            <div class="heatmap-nav-control" ng-click="zoomIn()">+</div>
            <div class="heatmap-nav-control" ng-click="zoomReset()">
                <svg width="12" height="12" viewBox="0 0 15 15">
                    <path d="M 7.5,0 C 3.375,0 0,3.375 0,7.5 0,11.625 3.375,15 7.5,15 c 3.46875,0 6.375,-2.4375 7.21875,-5.625 l -1.96875,0 C 12,11.53125 9.9375,13.125 7.5,13.125 4.40625,13.125 1.875,10.59375 1.875,7.5 1.875,4.40625 4.40625,1.875 7.5,1.875 c 1.59375,0 2.90625,0.65625 3.9375,1.6875 l -3,3 6.5625,0 L 15,0 12.75,2.25 C 11.4375,0.84375 9.5625,0 7.5,0 z"></path>
                </svg>
            </div>
            <div class="heatmap-nav-control" ng-click="zoomOut()">-</div>
        </div>
        <div class="heatmap-legend" ng-click="switchScale()">
            <span class="heatmap-legend-label-low">Low activity</span>
            <span class="heatmap-legend-label-high">High activity</span>
            <img class="heatmap-legend-scale-bar" ng-src="{{scales.imgs[scales.selected]}}" />
        </div>

        <div class="heatmap-opacity-control" ng-click="switchOpacity()">
            <span ng-style="{'opacity': opacities.values[opacities.selected]}"></span>
        </div>

    </div>
</div>